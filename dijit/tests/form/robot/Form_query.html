<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
		"http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<title>doh.robot Form dojo.query() Test</title>

		<style>
			@import "../../../../util/doh/robot/robot.css";
		</style>

		<!-- required: dojo.js -->
		<script type="text/javascript" src="../../../../dojo/dojo.js"
			djConfig="isDebug: true, parseOnLoad: true"></script>

		<script type="text/javascript" src="../../helpers.js"></script>

		<script type="text/javascript">
			dojo.require("dijit.dijit"); // optimize: load dijit layer
			dojo.require("dijit.robotx");

			dojo.addOnLoad(function(){
				doh.robot.initRobot('../Form.html');
				var inputNames=["foo.bar.baz.quux","available.from","available.to", // DateTextBox
					"plop.combo", // ComboBox
					"cb2", // CheckBox
					"r2", // RadioButton
					//"ms1", // MultiSelect
					"h1", // plain hidden input
					//"t1", "st1", // TextArea
					//"richtext", // Editor
					"filename", // TextBox set to file input
					"disabledWidget", // disabled TextBox
				];
				// should be able to query for all of the inputs, including hidden ones
				doh.register("query input by checked state", [
					{
						name: "all",
						runTest: function(){
							var queried=dojo.query("input[checked]");
							doh.t(queried.length>0,"dojo.query could not find checked widgets.");
							doh.is(3,queried.length,"expected: 3 checked widgets, got: "+queried.length);
							doh.is(dojo.byId('dijit_form_CheckBox_1'),queried[0],"Expected 2nd checkbox.");
							doh.is(dojo.byId('dijit_form_CheckBox_2'),queried[1],"Expected 3rd checkbox.");
							doh.is(dojo.byId('dijit_form_RadioButton_1'),queried[2],"Expected 2nd radio button.");
						}
					}
				]);
				for(var i=0; i<inputNames.length; i++){
					doh.register("query input by name", 
						{
							name: inputNames[i],
							widgetName: inputNames[i],
							runTest: function(){
								var queried=dojo.query("input[name="+this.widgetName+"]");
								doh.t(queried.length>0,"dojo.query could not find form widget: '"+this.widgetName+"'");
							}
						}
					);
				}
				doh.run();
			});
		</script>
	</head>
</html>
